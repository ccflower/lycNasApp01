!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(17)},function(e,t){"use strict";var n={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},funcOrValue:function(e,t){if("function"==typeof e){var n=e.call(t);return n}return e},execFuncs:function(e,t,r){if(e&&(n.isArray(r)||(r=[r])),"function"==typeof e)return e.apply(t,r);if(n.isArray(e)){var a=[];return e.forEach(function(e){a.push(e&&e.apply(t,r))}),a}},blend:["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","copy","xor","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pointInRect:function(e,t,n,r,a,i){return!(n>e||e>r||a>t||t>i)},firstValuable:function(e,t,n){return void 0===e?void 0===t?n:t:e}};e.exports=n},function(e,t){"use strict";e.exports={xywh:["sx","sy","sw","sh","tx","ty","tw","th"],txywh:["tx","ty","tw","th"],sxywh:["sx","sy","sw","sh"],devFlag:"__EASYCANVAS_DEVTOOL__"}},function(e,t){"use strict";function n(e,t){if(e&&e.match(/^data:/))return void(t&&t(e));if(a[e])return void(a[e]!==r?t(a[e]):setTimeout(function(){n(e,t)},100));a[e]=r;var i=new XMLHttpRequest;i.onload=function(){var n=new FileReader;n.onloadend=function(){a[e]=n.result,t&&t(n.result)},n.readAsDataURL(i.response)},i.open("GET",e),i.responseType="blob",i.send()}var r="processing",a={};e.exports=n},,function(e,t){"use strict";var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),o=r(i),s=n(2),l=r(s),c=n(12),u=r(c),d=n(11),f=r(d),h=n(10),p=r(h),v=n(13),g=r(v),y=n(9),$=r(y),m=n(7),w=r(m),x=function e(t){t.children&&t.children.forEach(function(n,r){n.$id||(t.children[r]=new O(n)),t.$id&&!t.$dom?(t.children[r].$canvas=t.$canvas,t.children[r].$parent=t):t.children[r].$canvas=t,e(t.children[r])})},b=function(e){var t=e||{};t.$id||(t.$id=Math.random().toString(36).substr(2)),t.$tickedTimes=t.$tickedTimes||0,t.content=t.content||{},t.style=t.style||{},t.style.zIndex=t.style.zIndex||0,t.style.mirrX=t.style.mirrX||0,t.style.opacity=o.default.firstValuable(t.style.opacity,1),t.style.locate=t.style.locate||"center",t.style.scale=t.style.scale||1;o.default.funcOrValue(t.content.img);if(l.default.xywh.forEach(function(e){t.style[e]=t.style[e]||0}),t.inherit=t.inherit||["tx","ty","scale","opacity"],t.drag=t.drag||{},t.events=t.events||{},"production"!==process.env.NODE_ENV)for(var n in t.events)"function"!=typeof t.events[n]&&"eIndex"!==n&&console.warn("[Easycanvas] Handler "+n+" is not a function.",t.events[n]);if(t.events.eIndex=t.events.eIndex,t.scroll=t.scroll||{},t.scroll.scrollX=t.scroll.scrollX||0,t.scroll.scrollY=t.scroll.scrollY||0,t.hooks=t.hooks||{},"production"!==process.env.NODE_ENV&&(t.$perf={}),"production"!==process.env.NODE_ENV){if(!t.name&&t.content.img&&t.content.img.src){var r=t.content.img.src.match(/.*\/([^\/]*)$/);r&&r[1]&&(t.name=r[1])}t.name=t.name||"Unnamed Easycanvas Object"}return t.children=t.children||[],x(t),t.$cache={},t.$scroll={speedX:0,speedY:0},t},E=function(e){var t=this;this.$extendList.forEach(function(n){n.call(t,e)})},O=function(e){var t=b(e);for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this[n]=t[n]);return E.call(this,t),this};O.prototype.$extendList=[],O.prototype.add=function(e){if(e)return this.children.push(e),x(this),w.default.bind(this.children[this.children.length-1]),this.children[this.children.length-1]},O.prototype.getRect=function(){var e=this,t={};l.default.txywh.forEach(function(n){t[n]=e.getStyle(n)});var n=this.getStyle("locate");return"lt"===n||("ld"===n?t.ty-=t.th:"rt"===n?t.tx-=t.tw:"rd"===n?(t.tx-=t.tw,t.ty-=t.th):(t.tx-=t.tw>>1,t.ty-=t.th>>1)),t},O.prototype.getSelfStyle=function(e){var t={};for(var n in this.style)t[n]=o.default.funcOrValue(this.style[n],this);return t},O.prototype.getStyle=function(e){var t=this,n=o.default.funcOrValue(t.style[e],t);return t.$parent&&t.inherit.indexOf(e)>=0?("tx"===e?n-=t.$parent.scroll.scrollX||0:"ty"===e&&(n-=t.$parent.scroll.scrollY||0),"tw"===e||"th"===e?o.default.firstValuable(n,t.$parent.getStyle(e)):"opacity"===e||"scale"===e?o.default.firstValuable(t.$parent.getStyle(e),1)*o.default.firstValuable(n,1):o.default.firstValuable(t.$parent.getStyle(e),0)+o.default.firstValuable(n,0)):n},O.prototype.remove=function(e){return e?(this.$canvas.remove(e),void o.default.execFuncs(e.hooks.removed,e)):(this.$parent?this.$parent.remove(this):this.$canvas.remove(this),void o.default.execFuncs(this.hooks.removed,this))},O.prototype.update=function(e){if(e)for(var t in e)if("object"===a(e[t]))for(var n in e[t])this[t][n]=e[t][n];else this[t]=e[t]},O.prototype.nextTick=p.default,O.prototype.on=u.default,O.prototype.off=f.default,O.prototype.trigger=g.default,O.prototype.broadcast=$.default,e.exports=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=(r(a),!1),o=function(e,t){e.drag.draggingFlag=t,i=t},s=function(e,t,n,r){return e?e.call(t,n):!!r&&"drag"},l=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);e.exports={bind:function(e){var t={x:0,y:0};e.drag=e.drag||{},e.drag.draggingFlag=!1;var n=e.events.mousedown||e.events.touchstart;e.events[l?"touchstart":"mousedown"]=function(r){if(e.drag.dragable){o(e,!0);t.x=r.canvasX,t.y=r.canvasY}return s(n,e,r,e.drag.dragable)}.bind(e);var r=e.events.mousemove||e.events.touchmove;e.events[l?"touchmove":"mousemove"]=function(n){var a=e.drag.draggingFlag&&e.drag.dragable;return a&&(this.style.tx+=n.canvasX-t.x,this.style.ty+=n.canvasY-t.y,this.$canvas.$flags.dragging=this,t.x=n.canvasX,t.y=n.canvasY),s(r,e,n,a)}.bind(e);var a=e.events.mouseup||e.events.touchend;e.events[l?"touchend":"mouseup"]=function(t){var n=e.drag.draggingFlag&&e.drag.dragable;return this.$canvas.$flags.dragging=void 0,e.drag.draggingFlag&&e.drag.dragable&&o(e,!1),s(a,e,t,n)};var i=e.events.mouseout;e.events.mouseout=function(t){var n=e.drag.draggingFlag&&e.drag.dragable;return o(e,!1),s(i,e,t,n)};var c=e.events.click;e.events.click=function(t){var n=e.drag.dragable;if(n){return!c||c.call(e,t)}return s(c,e,t,n)}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=r(a),o=n(5),s=r(o),l={},c=!1,u=[],d={stop:function(){c=!1},tick:function(){(0,s.default)(d.looper)},looper:function(){u.forEach(function(e,t){if(Math.abs(e.$scroll.speedX)>1?e.$scroll.speedX*=e.scroll.smooth||.8:e.$scroll.speedX=0,Math.abs(e.$scroll.speedY)>1?e.$scroll.speedY*=e.scroll.smooth||.8:e.$scroll.speedY=0,Math.abs(e.$scroll.speedX)<=1&&Math.abs(e.$scroll.speedY)<=1)return void u.splice(t,1);e.scroll.scrollY-=e.$scroll.speedY,e.scroll.scrollX-=e.$scroll.speedX;var n=i.default.funcOrValue(e.scroll.minScrollX,e),r=i.default.funcOrValue(e.scroll.maxScrollX,e),a=i.default.funcOrValue(e.scroll.minScrollY,e),o=i.default.funcOrValue(e.scroll.maxScrollY,e);!isNaN(a)&&a>e.scroll.scrollY?e.scroll.scrollY=a:!isNaN(o)&&e.scroll.scrollY>o&&(e.scroll.scrollY=o),!isNaN(n)&&n>e.scroll.scrollX?e.scroll.scrollX=n:!isNaN(r)&&e.scroll.scrollX>r&&(e.scroll.scrollX=r)}),d.tick()},touch:function(e,t){if(!e.scroll.scrollable)return!1;if(c){u.indexOf(e)===-1&&u.push(e);var n=Math.abs(t.canvasX-l.x),r=Math.abs(t.canvasY-l.y),a=+new Date-c;return c=+new Date,a/=10,n/a>1&&a>1&&(e.$scroll.speedX+=(t.canvasX-l.x)/a),r/a>1&&a>1&&(e.$scroll.speedY+=(t.canvasY-l.y)/a),l.x=t.canvasX,l.y=t.canvasY,t.event.preventDefault(),!0}c=+new Date,l.x=t.canvasX,l.y=t.canvasY},wheel:function(e,t){return!!e.scroll.scrollable&&(u.indexOf(e)===-1&&u.push(e),e.$scroll.speedX=t.event.wheelDeltaX,e.$scroll.speedY=t.event.wheelDeltaY,t.event.preventDefault(),!0)}};e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=r(a);e.exports=function(){var e=Array.prototype.slice.call(arguments),t=e.shift();this.hooks[t]&&i.default.execFuncs(this.hooks[t],this,e),e.unshift(t),this.children&&this.children.forEach(function(t){t.broadcast.apply(t,e)})}},function(e,t){"use strict";e.exports=function(e){var t=function t(){e.apply(this,arguments),this.off("ticked",t)};this.on("ticked",t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=r(a);e.exports=function(e,t){this.hooks[e]&&(this.hooks[e]!==t&&t?i.default.isArray(this.hooks[e])&&(this.hooks[e][this.hooks[e].indexOf(t)]=void 0):delete this.hooks[e])}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=r(a);e.exports=function(e,t,n){var r=t;if(n){var a=this;r=function(){var e=Date.now();if(e>r.$lastTriggerTime+n){r.$lastTriggerTime=e;var i=Array.prototype.slice.call(arguments);t.apply(a,i)}},r.$lastTriggerTime=-1}this.hooks[e]?i.default.isArray(this.hooks[e])?this.hooks[e].push(r):this.hooks[e]=[this.hooks[e],r]:this.hooks[e]=r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=r(a);e.exports=function(){var e=Array.prototype.slice.call(arguments),t=e.shift();if(this.hooks[t])return i.default.execFuncs(this.hooks[t],this,e)}},function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r={},a=[],i=0,o=function e(t,o,s){var l=s||{},c=e.cacheCanvas;if("object"===(void 0===t?"undefined":n(t))){var u=t;return l.callbackArgs=l.callbackArgs||[],void e(u.shift(),function(t){l.callbackArgs.push(t),u.length>1?e(u,o,l):e(u[0],function(e){l.callbackArgs.push(e),o(l.callbackArgs)},l)},s)}var d=t+"_"+JSON.stringify(s)+"_"+c;if(r[d])return o&&o(r[d]),r[d];var f=new Image;l.block?(f.src=t,i++):0===i?f.src=t:a.push({imgObj:f,src:t}),r[d]=f;var h=void 0;return(l.canvas||l.alphaColor||c)&&(h=document.createElement("canvas"),h.width=h.height||0,r[d]=h),f.onload=function(){if("jpg"===f.src.substr(-3)||"jpeg"===f.src.substr(-3)||"bmp"===f.src.substr(-3)?f.$noAlpha=!0:0===f.src.indexOf("data:image/jpg;")&&(f.$noAlpha=!0),l.block&&(i--,0===i&&(a.forEach(function(e){e.imgObj.src=e.src}),a.splice(0))),h&&(l.canvas||l.alphaColor||c)){var e=h.getContext("2d");if(h.width=f.width,h.height=f.height,h.$noAlpha=f.$noAlpha,e.drawImage(f,0,0),l.alphaColor){for(var t=e.getImageData(0,0,f.width,f.height),n=0;t.data.length>n;n+=4){var r=t.data[n]+t.data[n+1]+t.data[n+2],s=1;s>t.data[n]&&s>t.data[n+1]&&s>t.data[n+2]&&(t.data[n+3]=Math.floor(r/255))}e.putImageData(t,0,0),h.$noAlpha=!1}f=h}o&&o(f)},f.onerror=function(){r[d]=f},h||f};o.cacheCanvas=!1,e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(2),o=r(i),s=n(1),l=r(s);if("production"!==process.env.NODE_ENV&&!window[o.default.devFlag]){var c=window[o.default.devFlag]={isPaintRecording:!1,selectMode:!1,current:{},$canvas:{},$plugin:null},u={getSprite:function(e){if(!c.isPaintRecording)return[];var t={};if(e){var n=c.$canvas[e].children,r=function e(n){if(n.name!==o.default.devFlag){t[n.$id]={name:n.name,parent:n.$parent&&n.$parent.$id,style:{},children:n.children&&n.children.map(function(e){return e.$id}),rendered:n.$rendered};for(var r in n.style)t[n.$id].style[r]=l.default.funcOrValue(n.style[r],n);o.default.xywh.forEach(function(e){t[n.$id].style[e]=Math.round(t[n.$id].style[e])});var a=["blend","physics","$perf"];a.forEach(function(e){t[n.$id][e]=n[e]}),n.children&&n.children.forEach(e)}};n.forEach(r)}else for(var i in c.$canvas)t=a(t,c.$plugin.getSprite(i));return t},selectSpriteById:function(e,t){if(!t){for(var n in c.$canvas){var r=u.selectSpriteById(e,n);if(r)return{$sprite:r.$sprite||r,$canvas:c.$canvas[n]}}return!1}var a=function n(r){for(var a=0;r.length>a;a++){if(r[a].$id===e)return r[a];var i=n(r[a].children);if(i)return{$sprite:i.$sprite||i,$canvas:c.$canvas[t]}}return!1},i=c.$canvas[t].children,o=a(i);if(o)return{$sprite:o.$sprite||o,$canvas:c.$canvas[t]}},updateSprite:function(e,t,n){var r=u.selectSpriteById(e,n).$sprite;r||console.warn("Sprite "+spriteId+" Not Found."),a(r.style,t)},highlightSprite:function(e,t,n){c.selectMode=!!t;var r=u.selectSpriteById(e,n),a=r.$sprite,i=r.$canvas;t&&i&&a?i.$plugin.selectSprite(!1,i,a):i&&i.$plugin.cancelSelectSprite(i)},sendGlobalHook:function(e,t){var n=u.selectSpriteById(e,t),r=n.$sprite,a=n.$canvas;console.info("window.$ec = [Easycanvas "+a.$id+"], window.$es = [Easycanvas "+r.$id+"]"),window.$ec=a,window.$es=r},pause:function(e,t){var n=c.$canvas[e];n.$pausing=void 0!==t?t:!n.$pausing},getPerf:function(){var e={canvas:[],navigator:{clientWidth:document.body.clientWidth,clientHeight:document.body.clientHeight,devicePixelRatio:window.devicePixelRatio}};if(!c.isPaintRecording)return e;for(var t in c.$canvas)e.canvas.push({$id:t,name:c.$canvas[t].name,perf:c.$canvas[t].$perf,fps:c.$canvas[t].lastFps,size:{styleWidth:c.$canvas[t].$dom.getBoundingClientRect().width||parseInt(c.$canvas[t].$dom.style.width)||c.$canvas[t].$dom.width,styleHeight:c.$canvas[t].$dom.getBoundingClientRect().height||parseInt(c.$canvas[t].$dom.style.height)||c.$canvas[t].$dom.height,canvasWidth:c.$canvas[t].$dom.width,canvasHeight:c.$canvas[t].$dom.height}});return e}};c.$plugin=u}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(6),i=r(a);e.exports={sprite:i.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(42),i=r(a),o=n(5),s=r(o),l=n(51),c=r(l),u=n(1),d=r(u),f=n(53),h=r(f),p=n(14),v=r(p),g=n(50),y=r(g),$=n(52),m=r($),w=n(16),x=r(w),b=n(15),E=(r(b),{painter:i.default,imgLoader:v.default,imgPretreat:y.default,multlineText:m.default,transition:h.default,tick:s.default,utils:d.default,mirror:c.default,class:x.default,$version:"0.4.2",env:process.env.NODE_ENV});E.extend=function(e){E.class.sprite.prototype.$extendList.push(e)},"production"!==process.env.NODE_ENV&&(E.$warn=function(){var e=0;return function(){var t=Date.now();if(t-e>=1e3){var n=Array.prototype.slice.call(arguments);e=t,console.warn.apply(this,n)}}}()),window.Easycanvas?console.warn("[Easycanvas] already loaded."):("production"!==process.env.NODE_ENV&&console.warn("[Easycanvas] You are using the develop version."),window.Easycanvas=E),e.exports=E},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(27),i=r(a),o=n(29),s=r(o),l=n(23),c=r(l),u=n(7),d=r(u),f=n(28),h=r(f),p=n(41),v=r(p),g=n(1),y=(r(g),{$render:s.default,$eventHandler:c.default,$perPaint:i.default,$bindDrag:d.default,$rAFer:h.default});"production"!==process.env.NODE_ENV&&(y.$plugin=(0,v.default)()),e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=r(a),o=n(2),s=r(o),l=n(8),c=r(l),u=function(e){return e.sort(function(e,t){return"production"!==process.env.NODE_ENV&&window[s.default.devFlag]&&window[s.default.devFlag].selectMode?i.default.funcOrValue(e.style.zIndex,e)<i.default.funcOrValue(t.style.zIndex,t)?1:-1:i.default.funcOrValue(i.default.firstValuable(e.events.eIndex,e.style.zIndex),e)<i.default.funcOrValue(i.default.firstValuable(t.events.eIndex,t.style.zIndex),t)?1:-1})},d=function e(t){return!(t.$parent&&!e(t.$parent))&&i.default.funcOrValue(t.style.visible,t)!==!1},f=function(e,t){if(d(e)===!1)return!1;if(e.$cache){var n=e.$cache.tx,r=e.$cache.ty,a=e.$cache.tw,o=e.$cache.th;return void 0!==n&&i.default.pointInRect(t.canvasX,t.canvasY,n,n+a,r,r+o)}},h=function e(t,n,r){if(t&&t.length)for(var a=0;t.length>a;a++){var o=t[a];o.children.length&&e(u(o.children.filter(function(e){return"production"!==process.env.NODE_ENV&&window[s.default.devFlag]&&window[s.default.devFlag].selectMode?i.default.funcOrValue(e.style.zIndex,e)>=0:i.default.funcOrValue(i.default.firstValuable(e.events.eIndex,e.style.zIndex),e)>=0})),n,r),f(o,n)&&r.push(o),o.children.length&&e(u(o.children.filter(function(e){return"production"!==process.env.NODE_ENV&&window[s.default.devFlag]&&window[s.default.devFlag].selectMode?i.default.funcOrValue(e.style.zIndex,e)<0:!(i.default.funcOrValue(i.default.firstValuable(e.events.eIndex,e.style.zIndex),e)>=0)})),n,r)}};e.exports=function(e){var t=this;!e.layerX&&e.touches&&e.touches[0]&&(e.layerX=e.targetTouches[0].pageX-e.currentTarget.offsetLeft,e.layerY=e.targetTouches[0].pageY-e.currentTarget.offsetTop),!e.layerX&&e.changedTouches&&e.changedTouches[0]&&(e.layerX=e.changedTouches[0].pageX-e.currentTarget.offsetLeft,e.layerY=e.changedTouches[0].pageY-e.currentTarget.offsetTop);var n=this.$dom.getBoundingClientRect().width>this.$dom.getBoundingClientRect().height!=this.width>this.height,r=Math.floor(this.$dom.getBoundingClientRect()[n?"height":"width"])/this.width,a=Math.floor(this.$dom.getBoundingClientRect()[n?"width":"height"])/this.height;r=r||1,a=a||1;var i={type:e.type,canvasX:e.layerX/r,canvasY:e.layerY/a,event:e};t.events.interceptor&&(i=t.events.interceptor(i));var o=[];if(t.$flags.dragging&&t.$flags.dragging.$id&&o.push(t.$flags.dragging),h(u(t.children),i,o),"production"!==process.env.NODE_ENV&&window[s.default.devFlag]&&window[s.default.devFlag].selectMode&&o.length){var l=o[0];if(l.name===s.default.devFlag&&(l=o[1]),l&&t.$plugin.selectSprite("click"===e.type||"touchend"===e.type,t,l))return}t.eHoldingFlag||"mousedown"!==i.type&&"touchstart"!==i.type?!t.eHoldingFlag||"mouseup"!==i.type&&"touchend"!==i.type?!t.eHoldingFlag||"mousemove"!==i.type&&"touchmove"!==i.type||(t.eHoldingFlag=e):(t.eHoldingFlag=!1,c.default.stop()):t.eHoldingFlag=e;for(var d=0;o.length>d;d++){if(("mousemove"===i.type||"touchmove"===i.type)&&t.eLastMouseHover&&t.eLastMouseHover!==o[d]&&o.indexOf(t.eLastMouseHover)===-1){var f=t.eLastMouseHover.events.mouseout||t.eLastMouseHover.events.touchout;f&&f.call(t.eLastMouseHover,i)}if("mousewheel"===i.type)c.default.wheel(o[d],i);else if(t.eHoldingFlag&&"touchmove"===i.type&&c.default.touch(o[d],i))return;if(o[d].events){var p=o[d].events[i.type];if(p){t.eLastMouseHover=o[d];var v=p.call(o[d],i);if(v===!0)return t.eHoldingFlag=!1,v;if("drag"===v)return t.eHoldingFlag=!1,v}if(o[d].events.through===!1)return}}if(!o.length&&t.eLastMouseHover){var g=t.eLastMouseHover.events.mouseout;g&&g.call(t.eLastMouseHover,i),t.eLastMouseHover=null}var y=t.events[i.type];if(y&&y.call(t,i))return t.eHoldingFlag=!1,!0}},function(e,t){"use strict";e.exports=function(e,t,n,r){if(0>t.sx&&t.sw){var a=-t.sx/t.sw;t.tx+=t.tw*a,t.sx=0}if(0>t.sy&&t.sh){var i=-t.sy/t.sh;t.ty+=t.th*i,t.sy=0}if(n&&t.sx+t.sw>n){var o=(t.sx+t.sw-n)/t.sw;t.sw-=t.sw*o,t.tw-=t.tw*o}if(r&&t.sy+t.sh>r){var s=(t.sy+t.sh-r)/t.sh;t.sh-=t.sh*s,t.th-=t.th*s}if(0>t.tx&&t.tw){var l=-t.tx/t.tw;t.sx+=t.sw*l,t.sw-=t.sw*l,t.tw=t.tw+t.tx,t.tx=0}if(0>t.ty&&t.th){var c=-t.ty/t.th;t.sy+=t.sh*c,t.sh-=t.sh*c,t.th=t.th+t.ty,t.ty=0}if(t.tx+t.tw>e.width&&t.tw){var u=(t.tx+t.tw-e.width)/t.tw;t.tw-=t.tw*u,t.sw-=t.sw*u}if(t.ty+t.th>e.height&&t.th){var d=(t.ty+t.th-e.height)/t.th;t.th-=t.th*d,t.sh-=t.sh*d}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=r(a);e.exports=function(e,t,n){t&&t.filter(function(e){var t=i.default.funcOrValue(e.style.zIndex,e);return 0>n?0>t:t>=0}).sort(function(e,t){var n=i.default.funcOrValue(e.style.zIndex,e),r=i.default.funcOrValue(t.style.zIndex,t);return n===r?0:n>r?1:-1}).forEach(function(t,n){e.$perPaint.call(e,t,n)})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=r(a),o=n(2);r(o);e.exports=function(e,t){var n={};for(var r in e.content)n[r]=i.default.funcOrValue(e.content[r],e);"string"==typeof n.img&&(n.img=e.content.img=t.imgLoader(n.img));for(var a in e.style)n[a]=e.getStyle(a);if(e.inherit.forEach(function(t){n[t]=e.getStyle(t)}),n.sequence){var o=n.img,s=n.sequence;n.sequence.index=n.sequence.index||0;var l=n.sequence.index||0;0>l&&(l=0);var c=void 0,u=void 0;if(s.w||s.h){c=0>s.w?o.width/(0-s.w):s.w>0?s.w:o.width,u=0>s.h?o.height/(0-s.h):s.h>0?s.h:o.height;var d=Math.floor(o.width/c),f=Math.floor(o.height/u);n.sx=l%d*c,n.sy=Math.floor(l/d)%f*u}!s.loop&&l>0&&0===n.sx&&0===n.sy&&(n.img=void 0,s.onOver?s.onOver.call(e):e.remove()),n.sequence.lastTickTime=n.sequence.lastTickTime||0,t.$nextTickTime-n.sequence.lastTickTime<i.default.funcOrValue(n.sequence.interval,e)||(s.lastTickTime=t.$nextTickTime,n.sequence.index++,n.sequence.lastTickTime=t.$nextTickTime),n.sw=n.sw||c,n.sh=n.sh||u,n.tw=n.tw||c,n.th=n.th||u}return n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=r(a),o=n(3),s=(r(o),n(2)),l=r(s),c=n(26),u=r(c),d=n(24),f=r(d),h=n(25),p=r(h),v=i.default.blend,g=function(e){var t=/[^\u4e00-\u9fa5]/;return!t.test(e)};e.exports=function(e,t){if(i.default.funcOrValue(e.style.visible,e)===!1)return i.default.execFuncs(e.hooks.beforeTick,e,e.$tickedTimes),void i.default.execFuncs(e.hooks.ticked,e,++e.$tickedTimes);i.default.execFuncs(e.hooks.beforeTick,e,e.$tickedTimes);var n=this,r={},a=(0,u.default)(e,n),o=a.text,s=a.img,c=i.default.funcOrValue(e.children,e),d=s?s.width||0:0,h=s?s.height||0:0;if(a.tw=a.tw||a.sw||d,a.th=a.th||a.sh||h,a.sw=a.sw||d,a.sh=a.sh||h,"lt"===a.locate||("ld"===a.locate?a.ty-=a.th:"rt"===a.locate?a.tx-=a.tw:"rd"===a.locate?(a.tx-=a.tw,a.ty-=a.th):(a.tx-=a.tw>>1,a.ty-=a.th>>1)),(a.fh||a.fv)&&(a.fh=a.fh||0,a.fv=a.fv||0,a.fx=a.fx||0,a.fy=a.fy||0,r.transform={fh:a.fh,fv:a.fv,fx:-(a.ty+(a.th>>1))*a.fv+a.fx,fy:-(a.tx+(a.tw>>1))*a.fh+a.fy}),a.blend&&(r.globalCompositeOperation="string"==typeof a.blend?a.blend:v[a.blend]),a.rotate){var y=i.default.firstValuable(a.rx,a.tx+.5*a.tw),$=i.default.firstValuable(a.ry,a.ty+.5*a.th);r.beforeRotate=[y,$],r.rotate=-a.rotate*Math.PI/180,r.rotate=+r.rotate.toFixed(4),r.afterRotate=[-y,-$]}var m=a.scale;if(1!==m&&(a.tx-=(m-1)*a.tw>>1,a.ty-=(m-1)*a.th>>1,a.tw*=m,a.th*=m),a.mirrX?(r.translate=[n.width,0],r.scale=[-1,1],a.tx=n.width-a.tx-a.tw,a.mirrY&&(r.translate=[n.width,n.height],r.scale=[-1,-1],a.ty=n.height-a.ty-a.th)):a.mirrY&&(r.translate=[0,n.height],r.scale=[1,-1],a.ty=n.height-a.ty-a.th),"production"!==process.env.NODE_ENV&&d&&h&&a.sw&&a.sh){var w=a.tw*a.th/(a.sw*a.sh);e.$perf.paintRate&&e.$perf.paintRate>=w||(e.$perf.paintRate=w)}for(var x in a)e.$cache[x]=a[x];if(a.rotate||o||!d||a.fh||a.fv||(0,f.default)(n,a,d,h),l.default.xywh.forEach(function(e){a[e]=Math.round(a[e])}),delete e.$cache.textBottom,(0,p.default)(n,c,-1),r.globalAlpha=i.default.firstValuable(a.opacity,1),s&&d&&0!==a.opacity&&a.sw&&a.sh&&n.width>a.tx&&n.height>a.ty){e.$rendered=!0;var b={$id:e.$id,type:"img",settings:r,props:[s,a.sx,a.sy,a.sw,a.sh,a.tx,a.ty,a.tw,a.th]};"production"!==process.env.NODE_ENV&&(b.$origin=e),n.$children.push(b)}else e.$rendered=!1;if(o){var E=a.tx,O=a.ty,T=a.align||a.textAlign||"left",_=a.textFont||"14px Arial",A=parseInt(_),k=a.lineHeight||A;if("center"===T?E+=a.tw/2:"right"===T&&(E+=a.tw),"top"===a.textVerticalAlign?O+=A+(k-A)/2:"bottom"===a.textVerticalAlign?O+=a.th-(k-A)/2:"middle"===a.textVerticalAlign&&(O+=a.th/2+A/2),"string"==typeof o||"number"==typeof o)n.$children.push({$id:e.$id,type:"text",settings:r,props:{tx:E,ty:O,content:o,align:T,font:_,color:a.color,type:a.textType}});else if(o.length)o.forEach(function(t){n.$children.push({$id:e.$id,type:"text",settings:r,props:{tx:E+i.default.funcOrValue(t.tx,e),ty:O+i.default.funcOrValue(t.ty,e),content:i.default.funcOrValue(t.content,e),align:T,font:_,color:a.color,type:a.textType}})});else if("multline-text"===o.type){var F=o.text.split(/\t|\n/),N=[];F.forEach(function(e,t){e=String.prototype.trim.apply(e),o.config.start&&(e=e.replace(o.config.start,""));for(var n=0,r=a.tw;e.length&&e.length>n;)r>0||(r=a.tw,N.push(e.substr(0,n)),e=e.substr(n),n=0),n++,r-=A*(g(e[n])?1.05:.6);(e||t)&&N.push(e)}),N.forEach(function(t){n.$children.push({$id:e.$id,type:"text",settings:r,props:{tx:E,ty:O,content:t,align:T,font:_,color:a.color,type:a.textType}}),O+=k||A}),e.$cache.textBottom=O}}(0,p.default)(n,c,1),i.default.execFuncs(e.hooks.ticked,e,++e.$tickedTimes)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(5),i=r(a);e.exports=function(e){var t=Date.now();window.Easycanvas.transition.$lastPaintTime=this.$nextTickTime=t,1e3>t-this.fpsCalculateTime||(this.fpsCalculateTime=t,this.fpsHandler&&this.fpsHandler.call(this,this.fps),this.lastFps=this.fps,this.fps=0),(0,i.default)(function(n){if(this.$rafTime=n,this.$rAFer(e),this.maxFps>0&&60>this.maxFps){if(1e3/this.maxFps>=t-this.$lastPaintTime)return;this.$lastPaintTime=t-(t-this.$lastPaintTime)%(1e3/this.maxFps)}else this.$lastPaintTime=Date.now();e()}.bind(this))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=r(a),o=function(e,t){var n=this,r=e.props,a=!1;if("img"===e.type){var o=r[7]*r[8],s=n.$children;if(o>4e4)for(var l=s.length-1;l>t;l--){var c=s[l];if(!c.$cannotCover){var u=c.props;if(u[0]){if(u[7]*u[8]>=o)if(u[0].$noAlpha){var d=c.settings;if(1!==d.globalAlpha||d.globalCompositeOperation||d.rotate)c.$cannotCover=!0;else if(i.default.pointInRect(r[5],r[6],u[5],u[5]+u[7],u[6],u[6]+u[8])&&i.default.pointInRect(r[5]+r[7],r[6]+r[8],u[5],u[5]+u[7],u[6],u[6]+u[8]))return"production"!==process.env.NODE_ENV&&(e.$origin.$useless=!0,n.$plugin.jumpRender(n,r)),void(a=!0)}else c.$cannotCover=!0}else c.$cannotCover=!0}}}"production"!==process.env.NODE_ENV&&e.$origin&&(e.$origin.$useless=!1);var f=e.settings;if(n.$isWebgl&&window.Easycanvas.$webglPainter)return void(r[0]&&r[0].texture&&window.Easycanvas.$webglPainter(n,r[0].texture,r[0].width,r[0].height,r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],f));var h=!1,p=n.$paintContext;f.globalCompositeOperation&&(h||(p.save(),h=!0),p.globalCompositeOperation=f.globalCompositeOperation),1===f.globalAlpha||isNaN(f.globalAlpha)||(h||(p.save(),h=!0),p.globalAlpha=f.globalAlpha),f.translate&&(h||(p.save(),h=!0),p.translate(f.translate[0]||0,f.translate[1]||0)),f.rotate&&(h||(p.save(),h=!0),p.translate(f.beforeRotate[0]||0,f.beforeRotate[1]||0),p.rotate(f.rotate||0),p.translate(f.afterRotate[0]||0,f.afterRotate[1]||0)),f.scale&&(h||(p.save(),h=!0),p.scale(f.scale[0]||1,f.scale[1]||1)),f.transform&&(h||(p.save(),h=!0),p.transform(1,f.transform.fh,f.transform.fv,1,f.transform.fx,f.transform.fy)),"img"===e.type?(p.drawImage(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8]),"production"!==process.env.NODE_ENV&&n.$plugin.drawImage(n,r)):"text"===e.type&&r.content&&(p.font=r.font,p.fillStyle=p.strokeStyle=r.color||"white",p.textAlign=r.align,p[r.type||"fillText"](r.content,r.tx,r.ty)),h&&p.restore()};e.exports=function(){var e=this;e.$children.forEach(o.bind(e))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(31),i=r(a),o=n(37),s=r(o),l=n(40),c=r(l),u=n(33),d=r(u),f=n(32),h=r(f),p=n(34),v=r(p),g=n(12),y=r(g),$=n(11),m=r($),w=n(13),x=r(w),b=n(9),E=r(b),O=n(10),T=r(O),_=n(35),A=r(_),k=n(38),F=r(k),N=n(39),V=r(N),S={start:c.default,paint:d.default,add:i.default,remove:s.default,register:A.default,clear:h.default,setFpsHandler:F.default,setMaxFps:V.default,pause:v.default,on:y.default,off:m.default,trigger:x.default,broadcast:E.default,nextTick:T.default};e.exports=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(6),i=r(a);e.exports=i.default.prototype.add},function(e,t){"use strict";e.exports=function(){this.children=[]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=r(a);e.exports=function(){if(!this.$pausing&&!document.hidden){var e=this;if(i.default.execFuncs(e.hooks.ticked,e,[e.$rafTime]),this.$isWebgl){var t=this.$gl;webglUtils.resizeCanvasToDisplaySize(t.canvas),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT)}else e.$paintContext.clearRect(0,0,this.width,this.height);e.$freezing||(e.$children=[],"production"!==process.env.NODE_ENV&&e.$plugin.timeCollect(e,"preprocessTimeSpend","START"),this.children.sort(function(e,t){var n=i.default.funcOrValue(e.style.zIndex,e),r=i.default.funcOrValue(t.style.zIndex,t);return n===r?0:n>r?1:-1}).forEach(function(t,n){e.$perPaint(t,n)}),"production"!==process.env.NODE_ENV&&e.$plugin.timeCollect(e,"preprocessTimeSpend","END")),"production"!==process.env.NODE_ENV&&e.$plugin.timeCollect(e,"paintTimeSpend","START"),e.$render(),"production"!==process.env.NODE_ENV&&e.$plugin.timeCollect(e,"paintTimeSpend","END"),this.fps++,e.hooks.nextTick&&(i.default.execFuncs(e.hooks.beforeTick,e,[e.$rafTime]),delete e.hooks.nextTick)}}},function(e,t){"use strict";e.exports=function(e){this.$pausing=void 0===e||e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(8),i=r(a);e.exports=function(e,t){var n=this;"production"!==process.env.NODE_ENV&&(this.fpsHandler=this.fpsHandler||function(e){this.maxFps>0&&this.maxFps-5>e&&40>e&&console.warn("[Easycanvas] Low FPS detected ("+e+"/"+this.maxFps+").")});var r=t||{};this.$dom=e||this.$dom,this.name=r.name||"Unnamed",r.fullScreen&&(e.width=e.style.width=document.body.clientWidth||document.documentElement.clientWidth,e.height=e.style.height=document.body.clientHeight||document.documentElement.clientHeight),"production"!==process.env.NODE_ENV&&(r.width&&e.attributes.width&&r.width!==e.width||r.height&&e.attributes.height&&r.height!==e.height)&&console.warn('[Easycanvas] Canvas size mismatched in "register" function.'),e.width=this.width=this.width||r.width||e.width,e.height=this.height=this.height||r.height||e.height,r.webgl&&(this.$paintContext=e.getContext("webgl",{alpha:!0}),this.$paintContext?(this.$isWebgl=!0,"production"!==process.env.NODE_ENV&&(window.Easycanvas.$webglRegister||console.warn('[Easycanvas] You has not imported the "Webgl" plugin of Easycanvas.')),window.Easycanvas.$webglRegister(this)):"production"!==process.env.NODE_ENV&&console.warn("[Easycanvas] Webgl is not supported in current browser, using canvas2d instead.")),this.$paintContext=this.$paintContext||e.getContext("2d"),"production"!==process.env.NODE_ENV&&this.$plugin.register(this),this.events=r.events||this.events||{},this.hooks=r.hooks||this.hooks||{};var a=["contextmenu","mousewheel","click","dblclick","mousedown","mouseup","mousemove","touchstart","touchend","touchmove"];a.forEach(function(t){e.addEventListener(t,n.$eventHandler.bind(n))}),i.default.tick()}},function(e,t){"use strict";var n={$dom:null,$paintContext:null,$nextTickTime:0,$lastPaintTime:0,$pausing:!1,$freezing:!1,name:"",fps:0,lastFps:0,fpsCalculateTime:0,fpsHandler:null,width:0,height:0,events:{click:null},children:[],eHoldingFlag:!1,eLastMouseHover:null,maxFps:-1,scroll:{scrollable:!1,scrollY:0,minScrollY:void 0,maxScrollY:void 0},$flags:{dragging:!1}};e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=r(a);e.exports=function(e,t){var n=this;i.default.execFuncs(e.hooks.beforeRemove,e,e.$tickedTimes++),e.style.visible=!1,e.$removing=!0,setTimeout(function(){e.$parent?e.$parent.children=e.$parent.children.filter(function(e){return e.$removing!==!0;
}):n.children=n.children.filter(function(e){return e.$removing!==!0}),e.$canvas&&(e.$canvas=void 0,e.$parent=void 0,e.$tickedTimes=void 0,e.$cache=void 0,e.$rendered=!1,"production"!==process.env.NODE_ENV&&(e.$perf=void 0),i.default.execFuncs(e.hooks.removed,e,e.$tickedTimes))}),t&&this.children.splice(this.children.indexOf(e),1)}},function(e,t){"use strict";e.exports=function(e){this.fpsHandler=e}},function(e,t){"use strict";e.exports=function(e){this.maxFps=e||-1}},function(e,t){"use strict";e.exports=function(){var e=this;this.fpsCalculateTime=Date.now(),this.$rAFer(this.paint.bind(this)),setInterval(function(){if(e.eHoldingFlag){var t=e.eHoldingFlag;e.$eventHandler.call(e,{layerX:t.layerX,layerY:t.layerY,screenX:t.screenX||t.layerX,screenY:t.screenY||t.layerY,type:"hold"})}},40)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=(r(a),n(2)),o=r(i);e.exports=function(){if("production"!==process.env.NODE_ENV){var e="__EASYCANVAS_BRIDGE_TOPANEL__",t=function(t){t.tabId=window[o.default.devFlag].tabId,window.document.dispatchEvent(new CustomEvent(e,{detail:JSON.parse(JSON.stringify(t))}))};setTimeout(function(){t({name:"init"})});var n=document.createElement("img");n.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQYV2OYePb/fwAHrQNdl+exzgAAAABJRU5ErkJggg==";var r=null,a=["paintArea","paintTimes","paintTimeSpend","preprocessTimeSpend","loadArea","jumpArea"],i={drawImage:function(e,t){window[o.default.devFlag].isPaintRecording&&(e.$perf.$paintArea+=t[7]*t[8],e.$perf.$loadArea+=t[3]*t[4],e.$perf.$paintTimes++)},jumpRender:function(e,t){e.$perf.$jumpArea+=t[7]*t[8]},register:function(e){e.$id=Math.random().toString(36).substr(2),e.$perf={},a.forEach(function(t){e.$perf[t]=0,e.$perf["$"+t]=0}),setInterval(function(){a.forEach(function(t){e.$perf[t]=e.$perf["$"+t],e.$perf["$"+t]=0})},1e3),e.$flags.devtoolHanged||(window[o.default.devFlag].$canvas[e.$id]=e,e.$flags.devtoolHanged=!0)},timeCollect:function(e,t,n){e.$perf["$"+t]+=("START"===n?-1:1)*Date.now()},selectSprite:function(e,a,s){return s&&window[o.default.devFlag].selectMode?(r||(r=a.add({name:o.default.devFlag,content:{img:n},style:{}})),["tx","ty","tw","th","rotate","rx","ry"].forEach(function(e){!function(e){o.default.sxywh.indexOf(e)<0&&(r.style[e]=function(){return s.$cache[e]})}(e)}),r.style.scale=1,r.style.locate="lt",r.style.zIndex=Number.MAX_SAFE_INTEGER,r.style.visible=function(){return window[o.default.devFlag].selectMode},r.style.opacity=.8,e&&(a.remove(r),r=null,t({name:"selectSprite",id:a.$id,value:{sprite:s.$id,canvas:a.$id}}),window[o.default.devFlag].current={$sprite:s,$canvas:a},window[o.default.devFlag].selectMode=!1),!0):(i.cancelSelectSprite(a),!1)},cancelSelectSprite:function(e){r&&(e.remove(r),r=null)}};return i}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(30),i=r(a),o=n(22),s=r(o),l=n(36),c=r(l),u=function(e){this.imgLoader=Easycanvas.imgLoader;for(var t in c.default)this[t]=this[t]||JSON.parse(JSON.stringify(c.default[t]));e&&(e.el||(e={el:e}),e.el&&this.register("string"==typeof e.el?document.querySelector(e.el):e.el,e))};for(var d in s.default)Object.prototype.hasOwnProperty.call(s.default,d)&&(u.prototype[d]=s.default[d]);for(var f in i.default)Object.prototype.hasOwnProperty.call(i.default,f)&&(u.prototype[f]=i.default[f]);e.exports=u},,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(14),i=r(a),o=n(3),s=r(o);e.exports=function(e,t){var n=void 0;return(0,s.default)(e,function(e){return(0,i.default)(e,function(e){for(var r=e.width,a=e.height,i=e.getContext("2d").getImageData(0,0,r,a),o=i.data,s=o.length-1;s>=0;s-=4)if(t&&t.conversion){var l=t.conversion({r:o[s-3],g:o[s-2],b:o[s-1],a:o[s]},(s+1>>2)%r,Math.floor((s+1>>2)/r));o[s-3]=l.r,o[s-2]=l.g,o[s-1]=l.b,o[s-0]=l.a}e.getContext("2d").clearRect(0,0,r,a),e.getContext("2d").putImageData(i,0,0),n=e},{canvas:!0,cacheFlag:Math.random()})}),function(){return n}}},function(e,t){"use strict";e.exports=function(e){var t=e.width,n=e.height,r=document.createElement("canvas");r.width=t,r.height=n;var a=r.getContext("2d");a.scale(1,-1),a.translate(0,-n),a.drawImage(e,0,0);var i=a.getImageData(0,0,t,n);return{canvas:a,img:i}}},function(e,t){"use strict";e.exports=function(e,t){return{type:"multline-text",text:e,config:t}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=(r(a),3.141593),o=function(e){return e.$lastPaintTime||Date.now()},s={linear:function(e,t,n){if(e===t)return e;var r=o(this),a=!1,i=function(){var o=this.$lastPaintTime,s=(t-e)*(o-r)/n+e;if(a)if(t>e)for(;s>t;)s-=t-e;else for(;t>s;)s+=t-e;else t>e&&s>t?(i.$done=!0,s=t):e>t&&t>s&&(i.$done=!0,s=t);return s}.bind(this);return i.loop=function(){return a=!0,i},i.restart=function(){r=o(this)},i},pendulum:function(e,t,n,r){if(e===t)return e;var a=o(this),s=r||{};s.start=s.start||0;var l=!1,c=function(){var r=o(this),u=(r-a)/n;l?s.cycle&&(u%=s.cycle):s.cycle?u>s.cycle&&(c.$done=!0,u=s.cycle):u>1&&(c.$done=!0,u=1);var d=u*i*2-i/2+s.start/360*i,f=(t-e)*(Math.sin(d)+1)/2+e;return f}.bind(this);return c.loop=function(){return l=!0,c},c.restart=function(){a=o(this)},c},ease:function(e,t,n){return this.pendulum(e,t,n,{cycle:.5})},oneByOne:function(e){var t=e,n=!1,r=function(){for(var e=0;t.length>e;e++){if(!t[e].$done)return t[e]();if(!t[e].$nextRestart&&(t[e].$nextRestart=!0,t[e+1]))return t[e+1].restart(),t[e+1]()}if(n){for(var r=0;t.length>r;r++)t[r].$done=!1,t[r].$nextRestart=!1,t[r].restart();return t[0]()}return t[t.length-1]()};return r.loop=function(){return n=!0,r},r}};e.exports=s}])});